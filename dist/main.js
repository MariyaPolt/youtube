!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t,this.viewCount=n}var t,n,i;return t=e,(n=[{key:"addToHTML",value:function(){var e=document.createElement("a");e.setAttribute("href","https://www.youtube.com/watch?v=".concat(this.item.id.videoId)),e.setAttribute("target","_blank"),e.className="card",e.innerHTML='\n      <div class="title">\n        <h3>'.concat(this.item.snippet.title,'</h3>\n      </div>\n\n      <img src="').concat(this.item.snippet.thumbnails.medium.url,'" alt="').concat(this.item.snippet.title,'" width="100%">\n\n      <div class="description">\n        <p>').concat(this.item.snippet.description,'</p>\n      </div>\n\n      <div class="channel">\n        <span class="channel"><i class="fa fa-user" aria-hidden="true"></i> ').concat(this.item.snippet.channelTitle,'</span>\n      </div>\n\n      <footer>\n        <span class="publication-date">').concat(this.item.snippet.publishedAt.slice(0,10),'</span>\n        <span class="view-count"><i class="fa fa-eye" aria-hidden="true"></i> ').concat(this.viewCount,"</span>\n      </footer>\n    "),document.querySelector(".list").appendChild(e)}}])&&r(t.prototype,n),i&&r(t,i),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data="",this.settings={key:t,url:"https://www.googleapis.com/youtube/v3/search",q:encodeURIComponent(n)}}var t,n,r;return t=e,(n=[{key:"makeURL",value:function(e){var t=void 0===e?"":e,n=this.settings,r=n.key,i=n.url,o=n.q;return"".concat(i,"?part=snippet&type=video&maxResults=15&order=viewCount&q=").concat(o,"&key=").concat(r,"&pageToken=").concat(t)}},{key:"doItemsRequest",value:function(e){var t=this.makeURL(e);return fetch(t).then(function(e){return e.json()})}},{key:"doRequest",value:function(e){var t=this;return this.doItemsRequest(e).then(function(e){for(var n=function(n){var r=t.settings.key,o="https://www.googleapis.com/youtube/v3/videos?key=".concat(r,"&id=").concat(e.items[n].id.videoId,"&part=statistics");fetch(o).then(function(e){return e.json()}).then(function(t){var r,o;r=e.items[n],o=t.items[0].statistics.viewCount,new i(r,o).addToHTML()})},r=0;r<e.items.length;r+=1)n(r);return e})}}])&&o(t.prototype,n),r&&o(t,r),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentPage=1,this.nextPage=2,this.previousPage=null}var t,n,r;return t=e,(n=[{key:"setCurrentPage",value:function(e){this.currentPage=e,this.nextPage=e+1,this.previousPage=1===e?null:e-1,document.querySelector("#previous-page").style.display="inline-block",document.querySelector("#next-page").style.display="inline-block",document.querySelector("#current-page-number").style.display="inline-block",document.querySelector("#next-page-number").style.display="inline-block",document.querySelector("#previous-page-number").style.display=null===this.previousPage?"none":"inline-block",document.querySelector("#next-next-page-number").style.display=null!==this.previousPage?"none":"inline-block",document.querySelector("#current-page-number").innerHTML=this.currentPage,document.querySelector("#next-page-number").innerHTML=this.nextPage,document.querySelector("#previous-page-number").innerHTML=this.previousPage}}])&&c(t.prototype,n),r&&c(t,r),e}());function s(){var e=document.body.clientWidth;e>=1200?document.querySelector(".wrapper-cards").style.width="1200px":e<1200&&e>=900?document.querySelector(".wrapper-cards").style.width="900px":e<900&&e>=600?document.querySelector(".wrapper-cards").style.width="600px":e<600&&(document.querySelector(".wrapper-cards").style.width="300px")}function l(){var e=document.createElement("div");e.className="wrapper",document.body.appendChild(e);var t=document.createElement("div");t.className="search-bar",t.innerHTML='<form action="" onkeypress="if(event.keyCode == 13) return false;" method="get"><input name="search" placeholder="Search..." type="search" id="input-search"><button type="button" id="search-button"></button></form>',e.appendChild(t);var n=document.createElement("div");n.className="wrapper-cards",document.body.appendChild(n),s();var r=document.createElement("div");r.className="list",document.querySelector(".wrapper-cards").appendChild(r);var i=document.createElement("div");if(i.className="navigation-buttons",i.innerHTML='<button id="previous-page" style="display: none"></button><button id="next-page" style="display: none"></button>',document.body.appendChild(i),!document.querySelector(".page-buttons")){var o=document.createElement("div");o.className="page-buttons",o.innerHTML='\n      <button id="previous-page-number" class="page-number" style="display: none">page.previousPage</button>\n      <button id="current-page-number" class="page-number" style="display: none">page.currentPage</button>\n      <button id="next-page-number" class="page-number" style="display: none">page.nextPage</button>\n      <button id="next-next-page-number" class="page-number" style="display: none">'.concat(a.nextPage+1,"</button>\n    "),document.querySelector(".navigation-buttons").insertBefore(o,document.querySelector("#next-page"))}document.body.onresize=function(){var e=parseInt(document.querySelector(".wrapper-cards").style.width,10);s();var t,n,r,i=parseInt(document.querySelector(".wrapper-cards").style.width,10);a.setCurrentPage((t=e,n=i,r=a.currentPage,Math.floor(t*(r-1)/n+1))),document.querySelector(".list").style.left="".concat(function(e,t){return-(e-1)*t}(a.currentPage,i),"px")}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){var e=parseInt(document.querySelector(".list").style.left,10)+parseInt(document.querySelector(".wrapper-cards").style.width,10);e>0?document.querySelector(".list").style.left=0:(document.querySelector(".list").style.left="".concat(e,"px"),a.setCurrentPage(a.currentPage-1)),document.querySelector("#next-next-page-number").style.visibility="",document.querySelector("#next-page-number").style.visibility="",-parseInt(document.querySelector(".list").style.left,10)>=300*document.querySelector(".list").children.length-parseInt(document.querySelector(".wrapper-cards").style.width,10)&&(document.querySelector("#next-page-number").style.visibility="hidden"),-parseInt(document.querySelector(".list").style.left,10)>=300*document.querySelector(".list").children.length-2*parseInt(document.querySelector(".wrapper-cards").style.width,10)&&(document.querySelector("#next-next-page-number").style.visibility="hidden")}(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=new u("AIzaSyCDvY-iBNgwyvBSarfXvjBQNJWLezcqtSk","")}var t,n,r;return t=e,(n=[{key:"run",value:function(){var e=this;l(),document.querySelector("#search-button").addEventListener("click",function(){document.querySelector("#next-next-page-number").style.visibility="",document.querySelector("#next-page-number").style.visibility="",document.querySelector(".list").innerHTML="",document.querySelector(".list").style.left=0,e.api.settings.q=encodeURIComponent(document.querySelector("#input-search").value),a.setCurrentPage(1),e.api.doRequest().then(function(t){e.api.data=t,document.querySelector("#next-next-page-number").style.visibility="",document.querySelector("#next-page-number").style.visibility="",-parseInt(document.querySelector(".list").style.left,10)>=300*t.items.length-parseInt(document.querySelector(".wrapper-cards").style.width,10)&&(document.querySelector("#next-page-number").style.visibility="hidden"),-parseInt(document.querySelector(".list").style.left,10)>=300*t.items.length-2*parseInt(document.querySelector(".wrapper-cards").style.width,10)&&(document.querySelector("#next-next-page-number").style.visibility="hidden")})}),document.querySelector("#next-page").addEventListener("click",function(){e.swipeNext()}),document.querySelector("#previous-page").addEventListener("click",function(){p()}),this.scrollBySwipe(),document.onkeyup=function(t){13===t.keyCode&&(document.querySelector("#next-next-page-number").style.visibility="",document.querySelector("#next-page-number").style.visibility="",document.querySelector(".list").innerHTML="",document.querySelector(".list").style.left=0,e.api.settings.q=encodeURIComponent(document.querySelector("#input-search").value),a.setCurrentPage(1),e.api.doRequest().then(function(t){e.api.data=t,document.querySelector("#next-next-page-number").style.visibility="",document.querySelector("#next-page-number").style.visibility="",-parseInt(document.querySelector(".list").style.left,10)>=300*t.items.length-parseInt(document.querySelector(".wrapper-cards").style.width,10)&&(document.querySelector("#next-page-number").style.visibility="hidden"),-parseInt(document.querySelector(".list").style.left,10)>=300*t.items.length-2*parseInt(document.querySelector(".wrapper-cards").style.width,10)&&(document.querySelector("#next-next-page-number").style.visibility="hidden")}))},document.querySelector("#previous-page-number").addEventListener("click",function(){p()}),document.querySelector("#next-page-number").addEventListener("click",function(){e.swipeNext()}),document.querySelector("#next-next-page-number").addEventListener("click",function(){e.swipeNext(),e.swipeNext()})}},{key:"swipeNext",value:function(){var e=this;if(-parseInt(document.querySelector(".list").style.left,10)<300*document.querySelector(".list").children.length-parseInt(document.querySelector(".wrapper-cards").style.width,10)){var t=parseInt(document.querySelector(".list").style.left,10)-parseInt(document.querySelector(".wrapper-cards").style.width,10);-t>=300*document.querySelector(".list").children.length-parseInt(document.querySelector(".wrapper-cards").style.width,10)&&(document.querySelector("#next-page-number").style.visibility="hidden"),document.querySelector(".list").style.left="".concat(t,"px"),a.setCurrentPage(a.currentPage+1),a.currentPage%3||this.api.doRequest(this.api.data.nextPageToken).then(function(t){e.api.data=t,document.querySelector("#next-page-number").style.visibility=""})}}},{key:"scrollBySwipe",value:function(){var e=this,t=0,n=0;document.body.addEventListener("mousedown",function(e){t=e.offsetX}),document.body.addEventListener("mouseup",function(r){n=r.offsetX,t>n?0!==document.querySelector(".list").offsetHeight&&e.swipeNext():t<n&&0!==document.querySelector(".list").offsetHeight&&p()}),document.body.addEventListener("touchstart",function(e){t=e.changedTouches[0].pageX}),document.body.addEventListener("touchend",function(r){n=r.changedTouches[0].pageX,t>n?0!==document.querySelector(".list").offsetHeight&&e.swipeNext():t<n&&0!==document.querySelector(".list").offsetHeight&&p()})}}])&&d(t.prototype,n),r&&d(t,r),e}())).run()}]);
